# Introduction

ReactAware is a set of utility components that use inversion of control to expose some data to the consumer via a render function, instead of having to separate the logical declarations from the JSX. This will usually result in shorter code that is easier to read and to maintain.

Let's take a look at how ReactAware can make things shorter and easier to read by implementing a simple component that wants to have access to its width. This can be a common use case when implementing components that render different content based on the width of the screen or a container.

```tsx
const Container = () => {
  const ref = useRef<HTMLDivElement>(null)
  const [width, setWidth] = useState(0)

  useEffect(() => {
    const handleResize = () => {
      if (ref.current)
        setWidth(ref.current.getBoundingClientRect().width)
    }
    handleResize()
    window.addEventListener('resize', handleResize)
    return () => window.addEventListener('resize', handleResize)
  }, [])

  return (
    <div ref={ref}>
      My div element is {width}px wide!
    </div>
  )
}
```

Could be written like this:

```tsx
const Container = () => (
  <RectAware as="div">
    {({ width = 0 }) => `My div element is ${width}px wide!`}
  </RectAware>
)
```

<Note type="tip">
  `RectAware` will in fact use the [ResizeObserver API](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver) instead of using event listeners! And it's all done automatically for you! How cool is that?
</Note>

It's often the case with sligthly complex components that require the use of multiple state, refs and effects, where we have to keep going back and forth between these declarations and the JSX.

Let's take a look at how we could implement a slightly more complex component using pure React and `react-aware`.

---

## Scrollable

```tsx
const Scrollable = ({ children }) => {
  const ref = useRef<HTMLDivElement>(null)
  const [height, setHeight] = useState(0)

  useEffect(() => {
    if (ref.current) {
      setHeight(ref.current.getBoundingClientRect().height)
    }
  }, [])

  return (
    <div ref={ref} style={{ flexGrow: 1, overflow: 'hidden' }}>
      <div style={{ height: `${height}`px, overflow: 'auto' }}>
        {children}
      </div>
    </div>
  )
}
```

Now let's take a look at the same example, but taking advantage of the `HeightAware` component and some of its style utils:

```tsx
import { HeightAware, getScrollableStyle } from '@marceloclp/react-aware'

const Scrollable = ({ children }) => (
  <HeightAware as="div" style={{ flexGrow: 1 }}>
    {(height) => (
      <div style={getScrollableStyle(height)}>
        {children}
      </div>
    )}
  </HeightAware>
)
```
